<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arranging Parliament Plots • ggparliament</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Arranging Parliament Plots">
<meta property="og:description" content="ggparliament">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggparliament</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_basic-parliament-plots_1.html">Basic Parliament Plots</a>
    </li>
    <li>
      <a href="../articles/b_label-parties_2.html">How to add party labels and extraneous information to your parliament plot</a>
    </li>
    <li>
      <a href="../articles/c_draw-majority-threshold_3.html">How to draw the majority threshold</a>
    </li>
    <li>
      <a href="../articles/d_highlight-government_4.html">How to highlight government or party in control of the legislature</a>
    </li>
    <li>
      <a href="../articles/e_facet-parliament_5.html">How to facet parliaments by year or house</a>
    </li>
    <li>
      <a href="../articles/f_emphasize_parliamentarians_6.html">How to emphasize parliamentarians</a>
    </li>
    <li>
      <a href="../articles/g_hanging_seats_7.html">How to draw overhang seats in a legislature</a>
    </li>
    <li>
      <a href="../articles/h_arrange_parliament_8.html">Arranging Parliament Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/zmeers/ggparliament/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Arranging Parliament Plots</h1>
                        <h4 data-toc-skip class="author">Robert
Hickman</h4>
            
            <h4 data-toc-skip class="date">2024-05-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/zmeers/ggparliament/blob/HEAD/vignettes/h_arrange_parliament_8.Rmd" class="external-link"><code>vignettes/h_arrange_parliament_8.Rmd</code></a></small>
      <div class="hidden name"><code>h_arrange_parliament_8.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="improving-plot-information-via-plot-order">Improving Plot Information via Plot Order<a class="anchor" aria-label="anchor" href="#improving-plot-information-via-plot-order"></a>
</h2>
<p>The provided example data for elections is in order of country, year,
winning power, and then seats. However, this need not be so. It’s easy
to imagine downloading data in (e.g.) alphabetical order</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unformatted_data</span> <span class="op">&lt;-</span> <span class="va">election_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Germany"</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">==</span> <span class="st">"2017"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="va">party_long</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">unformatted_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   year country     house</span></span>
<span><span class="co">#&gt; 1 2017 Germany Bundestag</span></span>
<span><span class="co">#&gt; 2 2017 Germany Bundestag</span></span>
<span><span class="co">#&gt; 3 2017 Germany Bundestag</span></span>
<span><span class="co">#&gt; 4 2017 Germany Bundestag</span></span>
<span><span class="co">#&gt; 5 2017 Germany Bundestag</span></span>
<span><span class="co">#&gt; 6 2017 Germany Bundestag</span></span>
<span><span class="co">#&gt;                                                     party_long party_short</span></span>
<span><span class="co">#&gt; 1                                       Alliance 90/The Greens       GRUNE</span></span>
<span><span class="co">#&gt; 2                                      Alternative for Germany         AFD</span></span>
<span><span class="co">#&gt; 3 Christian Democratic Union/Christian Social Union in Bavaria     CDU/CSU</span></span>
<span><span class="co">#&gt; 4                                        Free Democratic Party         FDP</span></span>
<span><span class="co">#&gt; 5                                      Social Democratic Party         SDP</span></span>
<span><span class="co">#&gt; 6                                                     The Left       LINKE</span></span>
<span><span class="co">#&gt;   seats government  colour</span></span>
<span><span class="co">#&gt; 1    67          0 #64A12D</span></span>
<span><span class="co">#&gt; 2    94          0 #009EE0</span></span>
<span><span class="co">#&gt; 3   246          1 #000000</span></span>
<span><span class="co">#&gt; 4    80          0 #FFED00</span></span>
<span><span class="co">#&gt; 5   153          1 #EB001F</span></span>
<span><span class="co">#&gt; 6    69          0 #BE3075</span></span></code></pre></div>
<p>One simple way to deal with this is to arrange the data before piping
it through ggparliament. For instance, in the order I prefer (government
on the left, starting with the largest party):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">formatted_data</span> <span class="op">&lt;-</span> <span class="va">unformatted_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="op">-</span><span class="va">government</span>, <span class="op">-</span><span class="va">seats</span><span class="op">)</span></span>
<span><span class="va">formatted_parl_data</span> <span class="op">&lt;-</span> <span class="va">formatted_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/parliament_data.html">parliament_data</a></span><span class="op">(</span><span class="va">.</span>,</span>
<span>                  parl_rows <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                  party_seats <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">seats</span>,</span>
<span>                  type <span class="op">=</span> <span class="st">"semicircle"</span><span class="op">)</span></span>
<span><span class="va">german_parliament</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">formatted_parl_data</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, colour <span class="op">=</span> <span class="va">party_short</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_parliament_seats.html">geom_parliament_seats</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_highlight_government.html">geom_highlight_government</a></span><span class="op">(</span><span class="va">government</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/draw_majoritythreshold.html">draw_majoritythreshold</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">355</span>, label <span class="op">=</span> <span class="cn">FALSE</span>, type <span class="op">=</span> <span class="st">"semicircle"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>colour<span class="op">=</span><span class="st">"Party"</span>, </span>
<span>       title<span class="op">=</span><span class="st">"Germany 2017 Election Results"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/theme_ggparliament.html">theme_ggparliament</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_colour_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">formatted_parl_data</span><span class="op">$</span><span class="va">colour</span>, </span>
<span>                      limits <span class="op">=</span> <span class="va">formatted_parl_data</span><span class="op">$</span><span class="va">party_short</span><span class="op">)</span></span>
<span><span class="va">german_parliament</span></span>
<span><span class="co">#&gt; Warning in ggplot2::geom_segment(ggplot2::aes(y = 0.8, yend = max(plot$data$y) + : All aesthetics have length 1, but the data has 709 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span></span>
<span><span class="co">#&gt;   a single row.</span></span></code></pre></div>
<p><img src="h_arrange_parliament_8_files/figure-html/unnamed-chunk-2-1.png" width="768"></p>
<p>However, for whatever reason this might not be possible, or just
undesirable. To deal with this, parliament_data also includes the
ability to order the data for plotting using plot_order. If this is left
as NULL, no ordering takes place.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">german_parliament</span> <span class="op">&lt;-</span> <span class="va">unformatted_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/parliament_data.html">parliament_data</a></span><span class="op">(</span><span class="va">.</span>,</span>
<span>                  parl_rows <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                  party_seats <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">seats</span>,</span>
<span>                  plot_order <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">seats</span>,</span>
<span>                  type <span class="op">=</span> <span class="st">"semicircle"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="va">.</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, colour <span class="op">=</span> <span class="va">party_short</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_parliament_seats.html">geom_parliament_seats</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_highlight_government.html">geom_highlight_government</a></span><span class="op">(</span><span class="va">government</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/draw_majoritythreshold.html">draw_majoritythreshold</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">355</span>, label <span class="op">=</span> <span class="cn">FALSE</span>, type <span class="op">=</span> <span class="st">"semicircle"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>colour<span class="op">=</span><span class="st">"Party"</span>, </span>
<span>       title<span class="op">=</span><span class="st">"Germany 2017 Election Results Arranged by Seats per Party"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/theme_ggparliament.html">theme_ggparliament</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_colour_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">unformatted_data</span><span class="op">$</span><span class="va">colour</span>, </span>
<span>                      limits <span class="op">=</span> <span class="va">unformatted_data</span><span class="op">$</span><span class="va">party_short</span><span class="op">)</span></span>
<span><span class="va">german_parliament</span></span>
<span><span class="co">#&gt; Warning in ggplot2::geom_segment(ggplot2::aes(y = 0.8, yend = max(plot$data$y) + : All aesthetics have length 1, but the data has 709 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span></span>
<span><span class="co">#&gt;   a single row.</span></span></code></pre></div>
<p><img src="h_arrange_parliament_8_files/figure-html/unnamed-chunk-3-1.png" width="768">
Given that government is a binary variable, the simplest way to order as
in the first plot is to multiple this by the number of seats, i.e.:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">german_parliament</span> <span class="op">&lt;-</span> <span class="va">unformatted_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/parliament_data.html">parliament_data</a></span><span class="op">(</span><span class="va">.</span>,</span>
<span>                  parl_rows <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                  party_seats <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">seats</span>,</span>
<span>                  plot_order <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">seats</span> <span class="op">*</span> <span class="va">.</span><span class="op">$</span><span class="va">government</span>,</span>
<span>                  type <span class="op">=</span> <span class="st">"semicircle"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="va">.</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, colour <span class="op">=</span> <span class="va">party_short</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_parliament_seats.html">geom_parliament_seats</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_highlight_government.html">geom_highlight_government</a></span><span class="op">(</span><span class="va">government</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/draw_majoritythreshold.html">draw_majoritythreshold</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">355</span>, label <span class="op">=</span> <span class="cn">FALSE</span>, type <span class="op">=</span> <span class="st">"semicircle"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>colour<span class="op">=</span><span class="st">"Party"</span>, </span>
<span>       title<span class="op">=</span><span class="st">"Germany 2017 Election Results Arranged by Seats per Party"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/theme_ggparliament.html">theme_ggparliament</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_colour_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">unformatted_data</span><span class="op">$</span><span class="va">colour</span>, </span>
<span>                      limits <span class="op">=</span> <span class="va">unformatted_data</span><span class="op">$</span><span class="va">party_short</span><span class="op">)</span></span>
<span><span class="va">german_parliament</span></span>
<span><span class="co">#&gt; Warning in ggplot2::geom_segment(ggplot2::aes(y = 0.8, yend = max(plot$data$y) + : All aesthetics have length 1, but the data has 709 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please consider using `annotate()` or provide this layer with data containing</span></span>
<span><span class="co">#&gt;   a single row.</span></span></code></pre></div>
<p><img src="h_arrange_parliament_8_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Robert Hickman, Zoe Meers, Thomas J. Leeper.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
